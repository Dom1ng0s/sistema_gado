<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Lançar Custos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function toggleTipo() {
            var cat = document.getElementById("categoria").value;
            if (cat === "Fixo") {
                document.getElementById("div_fixo").style.display = "block";
                document.getElementById("div_variavel").style.display = "none";
            } else {
                document.getElementById("div_fixo").style.display = "none";
                document.getElementById("div_variavel").style.display = "block";
            }
        }
    </script>
</head>
<body>
    <h1>Lançar Custo Operacional</h1>

    {% if mensagem %}
        <div style="background-color: #d4edda; color: #155724; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
            {{ mensagem }}
        </div>
    {% endif %}

    <form action="{{ url_for('financeiro.custos_operacionais') }}" method="POST" class="form-container">
        <div class="form-group">
            <label>Data do Custo:</label>
            <input type="date" name="data" required>
        </div>

        <div class="form-group">
            <label>Categoria:</label>
            <select name="categoria" id="categoria" onchange="toggleTipo()">
                <option value="Fixo">Custo Fixo (Mensal)</option>
                <option value="Variavel">Custo Variável (Por Uso)</option>
            </select>
        </div>

        <div class="form-group" id="div_fixo">
            <label>Tipo de Custo Fixo:</label>
            <select name="tipo_fixo">
                <option value="Arrendamento">Arrendamento (Aluguel de Pasto)</option>
                <option value="Salário">Mão de Obra / Salário</option>
                <option value="Manutenção">Manutenção de Estrutura</option>
                <option value="Outros">Outros Fixos</option>
            </select>
        </div>

        <div class="form-group" id="div_variavel" style="display: none;">
            <label>Tipo de Custo Variável:</label>
            <select name="tipo_variavel">
                <option value="Nutrição">Sal Mineral / Ração</option>
                <option value="Sanitário">Vacinas e Remédios (Geral)</option>
                <option value="Frete">Frete / Transporte</option>
                <option value="Outros">Outros Variáveis</option>
            </select>
        </div>

        <div class="form-group">
            <label>Valor Total (R$):</label>
            <input type="number" step="0.01" name="valor" required placeholder="0.00">
        </div>

        <div class="form-group">
            <label>Descrição Opcional:</label>
            <input type="text" name="descricao" placeholder="Ex: Compra de 5 sacos de sal">
        </div>

        <button type="submit" class="btn-salvar">Registrar Custo</button>
    </form>

    <br>
    <a href="{{ url_for('financeiro.financeiro') }}" class="btn btn-voltar">Voltar ao Financeiro</a>
</body>
</html>